{% extends 'base.html' %}
{% load static %}


{% block head_extra %}
<script>
    // data for candidate_map.js
    var initialLocations = {{ candidate_locations|safe }};
</script>
<script async src="{% static "overview/candidate_map.js" %}"></script>
<script async defer src="//maps.googleapis.com/maps/api/js?&callback=initMap&key=AIzaSyAEvfFrHVngbhqmwUbmZIGrxJpTNReCIeY"></script>

<style>
#map {
    height: 400px;
    width: 100%;
}
</style>
{% endblock %}


{% block content %}
<div class="row">
    <section class="candidates col-md-6">

        <div class="row">
            <div class="col-md-12">
                <h2>Running</h2>
            </div>
        </div>

        <div class="row">

            {% for runner in runners %}

                <div class="col-md-3">
                    <article class="candidate_card">
                        <a href="{% if runner.slug %}{% url "candidate_detail" runner.slug %}{% else %}#{% endif %}">
                            <picture>
                                <img
                                    class="img-responsive"
                                    src="{% if runner.headshot %}{{ runner.headshot.url }}{% endif %}"
                                    alt="{{ runner.headshot_description }}">
                            </picture>
                            <h3 class="candidate_name">{{ runner.fullname }}</h3>
                        </a>
                    </article>
                </div>

            {% endfor %}

        </div>

        <div class="row">
            <div class="col-md-12">
                <h2>Not Running</h2>
            </div>
        </div>

        <div class="row">

            {% for not_runner in not_runners %}
            
                <div class="col-md-3">
                    <article class="candidate_card">
                        <a href="{% if non_runner.slug %}{% url "candidate_detail" non_runner.slug %}{% else %}#{% endif %}">
                            <picture>
                                <img
                                    class="img-responsive"
                                    src="{% if not_runner.headshot %}{{ not_runner.headshot.url }}{% endif %}"
                                    alt="{{ not_runner.headshot_description }}">
                            </picture>
                            <h3 class="candidate_name">{{ not_runner.fullname }}</h3>
                        </a>
                    </article>
                </div>

            {% endfor %}

        </div>

    </section>

    <div class="col-md-6">
        <div id="map" height=300 width=300 class="map-container">
            <div class="map-alert">
                <div class="alert alert-warning" data-bind="text:gerror"></div>
            </div>
        </div>
    </div>
</div>
{% endblock %}